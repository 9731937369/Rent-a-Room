
<div class = "container">
<div class = "col-md-4">
  <%= form_for(@city) do |f| %>
  <% if @city.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@city.errors.count, "error") %> prohibited this city from being saved:</h2>

      <ul>
      <% @city.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field" class = "form-group" >
    <%= f.label :name %><br>
    <%= f.text_field :name , class: "form-control"%>
    <span id = "name_error"></span>
  </div><br/>
  <div class="actions">
    <%= f.submit class: "btn btn-primary" %>
  </div>
<% end %>
</div>
</div>
<script>
  var nameHandle = document.getElementById('city_name');
  var nameMsg = document.getElementById('name_error');
  var formHandle = document.getElementById('new_city');
  var nameFormatter = /^[a-zA-Z]*$/;
 
 var errors = {
  name: false
 }
function validate(){
    if(nameHandle.value == ""){
      nameMsg.innerHTML = "City con't be blank";
      errors.name = false;
    }else if(!nameFormatter.test(nameHandle.value)){
      nameMsg.innerHTML = "Name can contain only characters"
      errors.name = false;
    }
    else{
      nameMsg.innerHTML = "";
      errors.name = true;
    }
  }

  formHandle.addEventListener('submit',function(e){
    validate();   
    if(Object.values(errors).includes(false))
    {
    e.preventDefault();
     } 
  },false)
</script>